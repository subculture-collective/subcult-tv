{
  "meta": {
    "tool": "clean-code-review",
    "date": "2026-02-23",
    "scope": "full-codebase",
    "files_reviewed": 74,
    "languages": ["typescript", "go"]
  },
  "summary": {
    "high": 4,
    "medium": 9,
    "low": 5,
    "total": 18
  },
  "issues": [
    {
      "id": 1,
      "type": "duplication",
      "dimension": "DRY",
      "severity": "high",
      "title": "Duplicated admin CRUD page structure",
      "files": [
        "src/pages/admin/AdminProjects.tsx",
        "src/pages/admin/AdminPosts.tsx",
        "src/pages/admin/AdminContacts.tsx",
        "src/pages/admin/AdminSubscribers.tsx"
      ],
      "suggestion": "Extract generic AdminCRUD component or useAdminCRUD hook"
    },
    {
      "id": 2,
      "type": "duplication",
      "dimension": "DRY",
      "severity": "high",
      "title": "Duplicated Go handler Scan chains",
      "files": [
        "api/internal/handlers/projects.go",
        "api/internal/handlers/posts.go"
      ],
      "suggestion": "Extract scanProject/scanPost helper functions"
    },
    {
      "id": 3,
      "type": "naming",
      "dimension": "naming",
      "severity": "high",
      "title": "Context key type mismatch in auth handler",
      "files": ["api/internal/handlers/auth.go"],
      "lines": [56],
      "suggestion": "Use middleware.UserIDKey instead of bare string \"user_id\""
    },
    {
      "id": 4,
      "type": "duplication",
      "dimension": "DRY",
      "severity": "high",
      "title": "Duplicated inline Tailwind input class strings",
      "files": [
        "src/pages/Contact.tsx",
        "src/components/NewsletterSignup.tsx",
        "src/pages/admin/AdminPosts.tsx",
        "src/pages/admin/AdminLogin.tsx"
      ],
      "suggestion": "Create shared TextInput component or INPUT_CLASSES constant"
    },
    {
      "id": 5,
      "type": "magic-number",
      "dimension": "magic-numbers",
      "severity": "medium",
      "title": "Undocumented rate limiter constants",
      "files": ["api/internal/router/router.go"],
      "lines": [19, 20, 21],
      "suggestion": "Define named constants for rate limits"
    },
    {
      "id": 6,
      "type": "magic-number",
      "dimension": "magic-numbers",
      "severity": "medium",
      "title": "Frontend cache TTL is bare computation",
      "files": ["src/lib/github.ts"],
      "lines": [5],
      "suggestion": "Use descriptive constant name like GITHUB_CACHE_TTL_MS"
    },
    {
      "id": 7,
      "type": "duplication",
      "dimension": "DRY",
      "severity": "medium",
      "title": "Duplicated statusColors/statusLabels maps",
      "files": [
        "src/components/ProjectCard.tsx",
        "src/pages/ProjectDetail.tsx"
      ],
      "suggestion": "Move to shared location like src/lib/project-utils.ts"
    },
    {
      "id": 8,
      "type": "function-size",
      "dimension": "functions",
      "severity": "medium",
      "title": "Patreon.tsx mixes utility functions with rendering",
      "files": ["src/pages/Patreon.tsx"],
      "suggestion": "Move stripHTML and apiTierToDisplay to src/lib/utils.ts"
    },
    {
      "id": 9,
      "type": "naming",
      "dimension": "naming",
      "severity": "medium",
      "title": "Generic 'data' variable name in AdminContacts",
      "files": ["src/pages/admin/AdminContacts.tsx"],
      "lines": [12],
      "suggestion": "Rename to contactsResponse or contactsPage"
    },
    {
      "id": 10,
      "type": "duplication",
      "dimension": "clarity",
      "severity": "medium",
      "title": "PostPage.tsx has two near-identical 404 blocks",
      "files": ["src/pages/PostPage.tsx"],
      "lines": [32, 55],
      "suggestion": "Extract PostNotFound component or consolidate guards"
    },
    {
      "id": 11,
      "type": "duplication",
      "dimension": "DRY",
      "severity": "medium",
      "title": "Cover patterns defined in multiple files",
      "files": [
        "src/lib/github.ts",
        "src/components/effects/CoverArt.tsx",
        "src/types.ts"
      ],
      "suggestion": "Define patterns once as const array, derive type from it"
    },
    {
      "id": 12,
      "type": "function-size",
      "dimension": "functions",
      "severity": "medium",
      "title": "AdminProjects.tsx is 270+ lines with embedded helpers",
      "files": ["src/pages/admin/AdminProjects.tsx"],
      "suggestion": "Extract Field, Select, StatusBadge to src/components/admin/"
    },
    {
      "id": 13,
      "type": "clarity",
      "dimension": "clarity",
      "severity": "medium",
      "title": "Go ListPosts uses fragile manual SQL parameter numbering",
      "files": ["api/internal/handlers/posts.go"],
      "lines": [14, 30],
      "suggestion": "Use fmt.Sprintf or a query builder for readability"
    },
    {
      "id": 14,
      "type": "magic-number",
      "dimension": "magic-numbers",
      "severity": "low",
      "title": "Pagination defaults are unnamed constants",
      "files": ["api/internal/handlers/handlers.go"],
      "lines": [33, 37],
      "suggestion": "Define DefaultPerPage = 20 and MaxPerPage = 100"
    },
    {
      "id": 15,
      "type": "conventions",
      "dimension": "conventions",
      "severity": "low",
      "title": "COVER_COLOR_ROTATION contains duplicate color value",
      "files": ["src/lib/tokens.ts"],
      "lines": [18, 25],
      "suggestion": "Remove duplicate or document intentional overlap"
    },
    {
      "id": 16,
      "type": "conventions",
      "dimension": "conventions",
      "severity": "low",
      "title": "Mixed import grouping in some pages",
      "files": ["src/pages/Patreon.tsx", "src/pages/Invest.tsx"],
      "suggestion": "Group external imports before internal imports"
    },
    {
      "id": 17,
      "type": "naming",
      "dimension": "naming",
      "severity": "low",
      "title": "FALLBACK_PROJECTS uses dynamic date for lastUpdated",
      "files": ["src/lib/github.ts"],
      "lines": [108],
      "suggestion": "Use fixed date string for fallback data"
    },
    {
      "id": 18,
      "type": "conventions",
      "dimension": "conventions",
      "severity": "low",
      "title": "Inconsistent ID generation in admin forms",
      "files": [
        "src/pages/admin/AdminProjects.tsx",
        "src/pages/admin/AdminPosts.tsx"
      ],
      "suggestion": "Use shared Field/Select components with useId() in all admin forms"
    }
  ]
}
